#include "include.h"
////////////////////////////////////////////////////////////////////////////////
// 功能描述 : rs485初始化
// 输入参数 : 
// 返回参数 : 
// 说明     :  
////////////////////////////////////////////////////////////////////////////////
void UART485_Init(void)
{
	UART_Init();
	
	uart.rIndex = 0;
	uart.rFlag  = 0;
	uart.rTimer = 0;	
}
////////////////////////////////////////////////////////////////////////////////
// 功能描述 : 485发送字符串程序
// 输入参数 : 
// 返回参数 : 
// 说明     :  
////////////////////////////////////////////////////////////////////////////////
void Send485SeriaDate(INT8U *Ram, INT16U  len)
{
  UINT8 ite;
	
	M485_CTRL_ON;
	delay_ms(1);
	for(ite=0;ite<len;ite++)
	{
		 ACC = Ram[ite];
		 if(P == 0)
		 {
			 TB80 = 0;
		 }
		 else
		 {
			 TB80 =1;
		 }
		 Usart1_SendByte(Ram[ite]);
	}
	delay_ms(1);
	M485_CTRL_OFF;//接收状态
}